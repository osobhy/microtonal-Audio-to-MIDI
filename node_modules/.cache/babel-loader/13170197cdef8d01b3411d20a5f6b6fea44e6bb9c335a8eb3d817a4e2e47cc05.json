{"ast":null,"code":"var _jsxFileName = \"/root/Audiotomidi/src/components/PianoRoll.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { Music, Play, Pause, Volume2 } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PianoRoll = ({\n  midiData,\n  isConverting\n}) => {\n  _s();\n  var _midiData$notes;\n  const canvasRef = useRef(null);\n  const [dimensions, setDimensions] = useState({\n    width: 0,\n    height: 0\n  });\n  const [zoom, setZoom] = useState(2.5); // Start more zoomed in\n  const [scrollX, setScrollX] = useState(0);\n\n  // MIDI playback state\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [volume, setVolume] = useState(0.7);\n  const audioContextRef = useRef(null);\n  const playbackStartTimeRef = useRef(0);\n  const animationFrameRef = useRef(null);\n\n  // Piano key names - reduced range for less cramped view\n  const noteNames = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];\n  const octaves = [6, 5, 4, 3]; // Reduced octave range\n  const pianoKeys = [];\n  octaves.forEach(octave => {\n    noteNames.forEach(note => {\n      pianoKeys.push(`${note}${octave}`);\n    });\n  });\n  useEffect(() => {\n    const updateDimensions = () => {\n      if (canvasRef.current) {\n        const rect = canvasRef.current.getBoundingClientRect();\n        setDimensions({\n          width: rect.width,\n          height: rect.height\n        });\n      }\n    };\n    updateDimensions();\n    window.addEventListener('resize', updateDimensions);\n    return () => window.removeEventListener('resize', updateDimensions);\n  }, []);\n  useEffect(() => {\n    if (!canvasRef.current || !midiData || !dimensions.width) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n\n    // Set canvas size\n    canvas.width = dimensions.width;\n    canvas.height = dimensions.height;\n\n    // Clear canvas\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    // Draw grid\n    drawGrid(ctx, canvas.width, canvas.height);\n\n    // Draw notes if available\n    if (midiData.notes) {\n      drawNotes(ctx, midiData.notes, canvas.width, canvas.height);\n    }\n  }, [midiData, dimensions, zoom, scrollX]);\n  const drawGrid = (ctx, width, height) => {\n    const gridSize = 30 * zoom; // Larger grid spacing\n    const keyHeight = height / pianoKeys.length;\n\n    // Draw horizontal lines (piano keys) - more subtle\n    ctx.strokeStyle = 'rgba(255, 255, 255, 0.05)';\n    ctx.lineWidth = 0.5;\n    for (let i = 0; i <= pianoKeys.length; i++) {\n      const y = i * keyHeight;\n      ctx.beginPath();\n      ctx.moveTo(0, y);\n      ctx.lineTo(width, y);\n      ctx.stroke();\n    }\n\n    // Draw vertical lines (time grid) - more subtle\n    ctx.strokeStyle = 'rgba(255, 255, 255, 0.08)';\n    for (let x = 0; x <= width; x += gridSize) {\n      ctx.beginPath();\n      ctx.moveTo(x - scrollX, 0);\n      ctx.lineTo(x - scrollX, height);\n      ctx.stroke();\n    }\n\n    // Removed note labels for cleaner look\n  };\n  const drawNotes = (ctx, notes, width, height) => {\n    const keyHeight = height / pianoKeys.length;\n    const timeScale = 150 * zoom; // Increased time scale for better visibility\n\n    notes.forEach(note => {\n      const noteIndex = note.pitch - 21; // MIDI note 21 is A0\n      if (noteIndex >= 0 && noteIndex < pianoKeys.length) {\n        const y = noteIndex * keyHeight;\n        const x = note.start * timeScale - scrollX;\n        const noteWidth = (note.end - note.start) * timeScale;\n        const noteHeight = keyHeight * 0.9; // Slightly larger notes\n\n        // Draw note rectangle with better colors\n        const gradient = ctx.createLinearGradient(x, y, x + noteWidth, y);\n        gradient.addColorStop(0, '#60a5fa'); // Lighter blue\n        gradient.addColorStop(0.5, '#8b5cf6'); // Purple\n        gradient.addColorStop(1, '#a855f7'); // Lighter purple\n\n        ctx.fillStyle = gradient;\n        ctx.fillRect(x, y + keyHeight * 0.05, noteWidth, noteHeight);\n\n        // Draw note border with glow effect\n        ctx.strokeStyle = 'rgba(255, 255, 255, 0.4)';\n        ctx.lineWidth = 1.5;\n        ctx.strokeRect(x, y + keyHeight * 0.05, noteWidth, noteHeight);\n      }\n    });\n  };\n  const handleWheel = e => {\n    e.preventDefault();\n    if (e.ctrlKey || e.metaKey) {\n      // Zoom\n      const newZoom = Math.max(1, Math.min(5, zoom - e.deltaY * 0.001));\n      setZoom(newZoom);\n    } else {\n      // Scroll horizontally\n      setScrollX(prev => Math.max(0, prev - e.deltaX));\n    }\n  };\n  const resetView = () => {\n    setZoom(2.5); // Reset to default zoom\n    setScrollX(0);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Music, {\n          className: \"w-5 h-5 text-gray-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium text-gray-600\",\n          children: \"Piano Roll\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetView,\n          className: \"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-md transition-colors\",\n          children: \"Reset View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-gray-500\",\n          children: [\"Zoom: \", Math.round(zoom * 100), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [!midiData && !isConverting && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        className: \"absolute inset-0 flex items-center justify-center bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(Music, {\n            className: \"w-12 h-12 text-gray-400 mx-auto mb-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 text-sm\",\n            children: \"Convert audio to see piano roll visualization\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this), isConverting && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        className: \"absolute inset-0 flex items-center justify-center bg-gray-50 rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 text-sm\",\n            children: \"Converting audio...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"piano-roll rounded-lg overflow-hidden custom-scrollbar\",\n        style: {\n          height: '500px'\n        } // Increased height for better visibility\n        ,\n        children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          onWheel: handleWheel,\n          className: \"piano-roll-grid w-full h-full cursor-grab active:cursor-grabbing\",\n          style: {\n            background: '#1a1a1a',\n            touchAction: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 text-xs text-gray-500\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Scroll to navigate \\u2022 Ctrl+Scroll to zoom \\u2022 \", (midiData === null || midiData === void 0 ? void 0 : (_midiData$notes = midiData.notes) === null || _midiData$notes === void 0 ? void 0 : _midiData$notes.length) || 0, \" notes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 5\n  }, this);\n};\n_s(PianoRoll, \"NF9JeqUJs5tHrdR169AmPcxsif4=\");\n_c = PianoRoll;\nexport default PianoRoll;\nvar _c;\n$RefreshReg$(_c, \"PianoRoll\");","map":{"version":3,"names":["React","useRef","useEffect","useState","motion","Music","Play","Pause","Volume2","jsxDEV","_jsxDEV","PianoRoll","midiData","isConverting","_s","_midiData$notes","canvasRef","dimensions","setDimensions","width","height","zoom","setZoom","scrollX","setScrollX","isPlaying","setIsPlaying","currentTime","setCurrentTime","volume","setVolume","audioContextRef","playbackStartTimeRef","animationFrameRef","noteNames","octaves","pianoKeys","forEach","octave","note","push","updateDimensions","current","rect","getBoundingClientRect","window","addEventListener","removeEventListener","canvas","ctx","getContext","clearRect","drawGrid","notes","drawNotes","gridSize","keyHeight","length","strokeStyle","lineWidth","i","y","beginPath","moveTo","lineTo","stroke","x","timeScale","noteIndex","pitch","start","noteWidth","end","noteHeight","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","strokeRect","handleWheel","e","preventDefault","ctrlKey","metaKey","newZoom","Math","max","min","deltaY","prev","deltaX","resetView","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","round","div","initial","opacity","animate","style","ref","onWheel","background","touchAction","_c","$RefreshReg$"],"sources":["/root/Audiotomidi/src/components/PianoRoll.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Music, Play, Pause, Volume2 } from 'lucide-react';\r\n\r\nconst PianoRoll = ({ midiData, isConverting }) => {\r\n  const canvasRef = useRef(null);\r\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 });\r\n  const [zoom, setZoom] = useState(2.5); // Start more zoomed in\r\n  const [scrollX, setScrollX] = useState(0);\r\n  \r\n  // MIDI playback state\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [volume, setVolume] = useState(0.7);\r\n  const audioContextRef = useRef(null);\r\n  const playbackStartTimeRef = useRef(0);\r\n  const animationFrameRef = useRef(null);\r\n\r\n  // Piano key names - reduced range for less cramped view\r\n  const noteNames = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];\r\n  const octaves = [6, 5, 4, 3]; // Reduced octave range\r\n  const pianoKeys = [];\r\n  \r\n  octaves.forEach(octave => {\r\n    noteNames.forEach(note => {\r\n      pianoKeys.push(`${note}${octave}`);\r\n    });\r\n  });\r\n\r\n  useEffect(() => {\r\n    const updateDimensions = () => {\r\n      if (canvasRef.current) {\r\n        const rect = canvasRef.current.getBoundingClientRect();\r\n        setDimensions({ width: rect.width, height: rect.height });\r\n      }\r\n    };\r\n\r\n    updateDimensions();\r\n    window.addEventListener('resize', updateDimensions);\r\n    return () => window.removeEventListener('resize', updateDimensions);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!canvasRef.current || !midiData || !dimensions.width) return;\r\n\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    \r\n    // Set canvas size\r\n    canvas.width = dimensions.width;\r\n    canvas.height = dimensions.height;\r\n\r\n    // Clear canvas\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    // Draw grid\r\n    drawGrid(ctx, canvas.width, canvas.height);\r\n    \r\n    // Draw notes if available\r\n    if (midiData.notes) {\r\n      drawNotes(ctx, midiData.notes, canvas.width, canvas.height);\r\n    }\r\n\r\n  }, [midiData, dimensions, zoom, scrollX]);\r\n\r\n  const drawGrid = (ctx, width, height) => {\r\n    const gridSize = 30 * zoom; // Larger grid spacing\r\n    const keyHeight = height / pianoKeys.length;\r\n\r\n    // Draw horizontal lines (piano keys) - more subtle\r\n    ctx.strokeStyle = 'rgba(255, 255, 255, 0.05)';\r\n    ctx.lineWidth = 0.5;\r\n    \r\n    for (let i = 0; i <= pianoKeys.length; i++) {\r\n      const y = i * keyHeight;\r\n      ctx.beginPath();\r\n      ctx.moveTo(0, y);\r\n      ctx.lineTo(width, y);\r\n      ctx.stroke();\r\n    }\r\n\r\n    // Draw vertical lines (time grid) - more subtle\r\n    ctx.strokeStyle = 'rgba(255, 255, 255, 0.08)';\r\n    for (let x = 0; x <= width; x += gridSize) {\r\n      ctx.beginPath();\r\n      ctx.moveTo(x - scrollX, 0);\r\n      ctx.lineTo(x - scrollX, height);\r\n      ctx.stroke();\r\n    }\r\n\r\n    // Removed note labels for cleaner look\r\n  };\r\n\r\n  const drawNotes = (ctx, notes, width, height) => {\r\n    const keyHeight = height / pianoKeys.length;\r\n    const timeScale = 150 * zoom; // Increased time scale for better visibility\r\n\r\n    notes.forEach(note => {\r\n      const noteIndex = note.pitch - 21; // MIDI note 21 is A0\r\n      if (noteIndex >= 0 && noteIndex < pianoKeys.length) {\r\n        const y = noteIndex * keyHeight;\r\n        const x = note.start * timeScale - scrollX;\r\n        const noteWidth = (note.end - note.start) * timeScale;\r\n        const noteHeight = keyHeight * 0.9; // Slightly larger notes\r\n\r\n        // Draw note rectangle with better colors\r\n        const gradient = ctx.createLinearGradient(x, y, x + noteWidth, y);\r\n        gradient.addColorStop(0, '#60a5fa'); // Lighter blue\r\n        gradient.addColorStop(0.5, '#8b5cf6'); // Purple\r\n        gradient.addColorStop(1, '#a855f7'); // Lighter purple\r\n        \r\n        ctx.fillStyle = gradient;\r\n        ctx.fillRect(x, y + keyHeight * 0.05, noteWidth, noteHeight);\r\n        \r\n        // Draw note border with glow effect\r\n        ctx.strokeStyle = 'rgba(255, 255, 255, 0.4)';\r\n        ctx.lineWidth = 1.5;\r\n        ctx.strokeRect(x, y + keyHeight * 0.05, noteWidth, noteHeight);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleWheel = (e) => {\r\n    e.preventDefault();\r\n    if (e.ctrlKey || e.metaKey) {\r\n      // Zoom\r\n      const newZoom = Math.max(1, Math.min(5, zoom - e.deltaY * 0.001));\r\n      setZoom(newZoom);\r\n    } else {\r\n      // Scroll horizontally\r\n      setScrollX(prev => Math.max(0, prev - e.deltaX));\r\n    }\r\n  };\r\n\r\n  const resetView = () => {\r\n    setZoom(2.5); // Reset to default zoom\r\n    setScrollX(0);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-2\">\r\n                          <Music className=\"w-5 h-5 text-gray-600\" />\r\n          <span className=\"text-sm font-medium text-gray-600\">Piano Roll</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <button\r\n            onClick={resetView}\r\n            className=\"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-md transition-colors\"\r\n          >\r\n            Reset View\r\n          </button>\r\n          <span className=\"text-xs text-gray-500\">\r\n            Zoom: {Math.round(zoom * 100)}%\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"relative\">\r\n        {!midiData && !isConverting && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            className=\"absolute inset-0 flex items-center justify-center bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\"\r\n          >\r\n            <div className=\"text-center\">\r\n              <Music className=\"w-12 h-12 text-gray-400 mx-auto mb-3\" />\r\n              <p className=\"text-gray-500 text-sm\">\r\n                Convert audio to see piano roll visualization\r\n              </p>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n\r\n        {isConverting && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            className=\"absolute inset-0 flex items-center justify-center bg-gray-50 rounded-lg\"\r\n          >\r\n            <div className=\"text-center\">\r\n              <div className=\"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-3\"></div>\r\n              <p className=\"text-gray-500 text-sm\">\r\n                Converting audio...\r\n              </p>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n\r\n        <div \r\n          className=\"piano-roll rounded-lg overflow-hidden custom-scrollbar\"\r\n          style={{ height: '500px' }} // Increased height for better visibility\r\n        >\r\n          <canvas\r\n            ref={canvasRef}\r\n            onWheel={handleWheel}\r\n            className=\"piano-roll-grid w-full h-full cursor-grab active:cursor-grabbing\"\r\n            style={{ \r\n              background: '#1a1a1a',\r\n              touchAction: 'none'\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mt-2 text-xs text-gray-500\">\r\n          <p>Scroll to navigate • Ctrl+Scroll to zoom • {midiData?.notes?.length || 0} notes</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PianoRoll; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}